"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[26,547],{8657:function(e,t,r){r.d(t,{N1:function(){return f},_L:function(){return s},e:function(){return l},gH:function(){return d},mU:function(){return p}});var n=r(5861),a=r(7757),u=r.n(a),c=r(340),i="https://api.themoviedb.org",o={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyY2FlMTYwYTNlOWI5MzM4YjRjMjM5ODcwMGNjMDY5YiIsInN1YiI6IjY1MTZkM2RkOTNiZDY5MDBjNGRlNjIyZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.PgXR7QjfBNLvVWjU5-uNZyuPjuLab6BaLAdZgFlLAZY"},s=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:"".concat(i,"/3/trending/all/day?language=en-US"),headers:o},e.next=3,(0,c.Z)(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:"".concat(i,"/3/movie/").concat(t,"?language=en-US"),headers:o},e.next=3,(0,c.Z)(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:"".concat(i,"/3/movie/").concat(t,"/credits?language=en-US"),headers:o},e.next=3,(0,c.Z)(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:"".concat(i,"/3/movie/").concat(t,"/reviews?language=en-US&page=1"),headers:o},e.next=3,(0,c.Z)(r);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n,a,s,p=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:1,n={method:"GET",url:"".concat(i,"/3/search/movie?query=").concat(t,"&include_adult=false&language=en-US&page=").concat(r),headers:o},e.next=4,(0,c.Z)(n);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2547:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=(0,r(5867).default)("h2")({fontSize:"40px",color:"#aeaeae",textAlign:"center"}),a=r(184),u=function(e){var t=e.error;return(0,a.jsx)(n,{children:t})}},8026:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=r(5861),a=r(9439),u=r(7757),c=r.n(u),i=r(2634),o=r(2547),s=r(1503),p=r(5867),l=(0,p.default)("ul")({display:"flex",flexDirection:"column",gap:"20px"}),f=(0,p.default)("li")({display:"flex",alignItems:"center",gap:"20px",width:"100%",padding:"10px",color:"#aeaeae",boxShadow:"2px 2px 4px 0 #000, -2px -2px 4px 0 #999",borderRadius:"8px","& img":{borderRadius:"50%"}}),d=(0,p.default)("div")({}),h=(0,p.default)("p")({marginBottom:"10px"}),x=(0,p.default)("h3")({fontSize:"20px",fontWeight:600,color:"#efefef",marginBottom:"10px"}),v=(0,p.default)("p")({padding:"5px",maxHeight:"160px",overflow:"auto",marginBottom:"10px"}),g=(0,p.default)("p")({textAlign:"right"}),m=r(9309),w=r(184),j=function(e){var t=e.review,r=t.author,n=t.content,a=t.updated_at,u=t.author_details,c=u.avatar_path,i=u.rating,o=c?"https://image.tmdb.org/t/p/w300/"+c:m,s="".concat(a.slice(0,10)," ").concat(a.slice(11,19));return(0,w.jsxs)(f,{children:[(0,w.jsx)("img",{src:o,alt:r,width:100,height:100}),(0,w.jsxs)(d,{children:[(0,w.jsx)(h,{children:i}),(0,w.jsx)(x,{children:r}),(0,w.jsx)(v,{children:n}),(0,w.jsx)(g,{children:s})]})]})},Z=r(2791),b=function(e){var t=e.reviews;return(0,w.jsx)(l,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,w.jsx)(j,{review:e},e.id)}))})},y=r(7689),k=r(8657),I=function(){var e=(0,Z.useState)(!1),t=(0,a.Z)(e,2),r=t[0],u=t[1],p=(0,Z.useState)(""),l=(0,a.Z)(p,2),f=l[0],d=l[1],h=(0,y.UO)().movieId,x=(0,Z.useState)(null),v=(0,a.Z)(x,2),g=v[0],m=v[1];return(0,Z.useEffect)((function(){if(h){var e=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),d(""),e.next=5,(0,k.N1)(t);case 5:if(r=e.sent,n=r.results,m(n),n.length){e.next=10;break}throw new Error("There are no reviews yet");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),a=e.t0.message,d(a);case 16:return e.prev=16,u(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(t){return e.apply(this,arguments)}}();e(h)}}),[h]),(0,w.jsxs)(i.W2,{children:[r&&(0,w.jsx)(s.a,{}),f&&!r&&(0,w.jsx)(o.default,{error:f}),g&&(0,w.jsx)(b,{reviews:g})]})}},9309:function(e){e.exports="data:image/jpeg;base64,"}}]);
//# sourceMappingURL=26.7e26265f.chunk.js.map